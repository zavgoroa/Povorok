Recipe > RecipeTitle Ingredient_List Method
:_ _ c1
:_ _ c2 .
Ingredient_List > INGR SRPT IngredientLine
:_ _ c2 .

IngredientLine > e
:_ _ _ .
IngredientLine > ID CI Measure IngredientLine
:= c0 c1
:_ _ c3 .

RecipeTitle > ID SRPT
:_ _ _ .

Measure > M_G
:_ _ _ .
Measure > M_KG
:_ _ _ .
Measure > M_ML
:_ _ _ .
Measure > M_L
:_ _ _ .
Measure > M_SHT
:_ _ _ .

Method > METHOD SRPT Statements
:_ _ c2 .

Statements > Statement SRPT Statements
:_ _ c0
:_ _ c2 .
Statements > e
:_ _ _ .

Statement > ID SET Arithmetic
:= c0 c2 .

Arithmetic > GETBYINDEX ID KAK Arithmetic
:>INDEX c1 c3 .
Arithmetic > ID
:>1st c0 _ .
Arithmetic > ADD Arithmetic AND Arithmetic
:>ADD c1 c3 .
Arithmetic > SUB Arithmetic AND Arithmetic
:>SUB c1 c3 .
Arithmetic > MUL Arithmetic AND Arithmetic
:>MUL c1 c3 .
Arithmetic > DIV Arithmetic AND Arithmetic
:>DIV c1 c3 .

Statement > STDIN ID
:STDIN c1 _ .
Statement > STDOUT ID
:STDOUT c1 _ .

Statement > LCAST ID
:_ _ _ .

Statement > IF Condition SRPT Statements ElseStatement
:bf l1 c1
:_ l2 c3
:defl l1 _
:_ l2 c4
:defl l2 _ .


ElseStatement > ELSE Statements ENDIF
:_ _ c1 .
ElseStatement > ENDIF
:_ _ _ .

Condition > EQ ID AND ID
:>eq c1 c3 .
Condition > NEQ ID AND ID
:>neq c1 c3 .
Condition > GR ID AND ID
:>gr c1 c3 .
Condition > LES ID AND ID
:>les c1 c3 .

Statement > WHILE ID ID SRPT Statements UNTIL
:defl l1 _
:bzl l2 c2
:_ l2 c4
:jmp l1 _
:defl l2 _ .


Statement > BREAK
:jmp out _ .